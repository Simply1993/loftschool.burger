/* Hamburger menu */
let hamburger = (function (options) {
	let button = document.querySelector(options.button);
	let menu = document.querySelector(options.menu);
	let list = document.querySelector(".mobile-menu__list");

	let _openMenu = function (e) {
		e.preventDefault();
		menu.classList.toggle("active");
		document.body.classList.toggle("lock");
	};

	let closeMenu = function closeMenu(e) {
		e.preventDefault();
		if (e.target.className == "mobile-menu__link") {
			menu.classList.remove("active");
			document.body.classList.remove("lock");
		}
	};

	let addListeners = function () {
		button.addEventListener("click", _openMenu);

		list.addEventListener("click", closeMenu);
	};

	return {
		init: addListeners
	};
})({
	button: ".hamburger-menu-btn",
	menu: ".mobile-menu"
});

hamburger.init();

/* Vertical Accordeon */
let verticalAccordeon = (function (options) {
	let list = document.querySelector(options.listSelector);
	let itemsList = list.querySelectorAll('.accordeon__item');

	let _getHeight = function _getHeight(elem) {
		let height = elem.scrollHeight + 'px';
		return height;
	};

	let _toogleItems = function (e) {
		e.preventDefault();

		if (e.target.className == options.linkClass) {
			let item = e.target.parentNode;
			let contentItem = item.querySelector('.accordeon__item-content');

			if (!item.classList.contains(options.activeItemClass)) {
				_closeItems(itemsList);
				_openItem(item, contentItem);
			} else {
				_closeItem(item, contentItem);
			}
		}
	};

	let _openItem = function _openItem(item, contentItem) {
		let contentHeight = _getHeight(contentItem);

		item.classList.toggle(options.activeItemClass);
		contentItem.style.height = contentHeight;
	};

	let _closeItem = function _closeItem(item, contentItem) {
		contentItem.style.height = '';
		item.classList.remove(options.activeItemClass);
	};

	let _closeItems = function _closeItems(items) {
		for (let i = 0; i < items.length; i++) {
			let contentItem = items[i].querySelector('.accordeon__item-content');
			_closeItem(items[i], contentItem);
		}
	};

	let addListeners = function () {
		list.addEventListener('click', _toogleItems)
	};

	return {
		init: addListeners
	}
})({
	listSelector: ".accordeon__list",
	linkClass: "accordeon__trigger",
	activeItemClass: "accordeon__item--active",
});

verticalAccordeon.init();

/* Horizontal Accordeon */
let horizontalAccordeon = (function (options) {
	let list = document.querySelector(options.listSelector);
	let itemsList = list.querySelectorAll('.menu-accordeon__item');

	/* calculate needed width */
	let userWidth = window.innerWidth;
	let titleItem = list.querySelector('.'+options.linkClass);
	let widthTitle = titleItem.clientWidth;
	let neededWidth = userWidth - itemsList.length * widthTitle;
	console.log(neededWidth);
	neededWidth = (neededWidth > 520) ? 520 : neededWidth;

	let _toogleItems = function (e) {
		e.preventDefault();

		if (e.target.className == options.linkClass) {
			let item = e.target.parentNode;
			let contentItem = item.querySelector('.menu-accordeon__item-content');

			if (!item.classList.contains(options.activeItemClass)) {
				_closeItems(itemsList);
				_openItem(item, contentItem);
			} else {
				_closeItem(item, contentItem);
			}
		}
	};

	let _openItem = function _openItem(item, contentItem) {
		item.classList.toggle(options.activeItemClass);
		contentItem.style.width = neededWidth + 'px';
	};

	let _closeItem = function _closeItem(item, contentItem) {
		contentItem.style.width = '';
		item.classList.remove(options.activeItemClass);
	};

	let _closeItems = function _closeItems(items) {
		for (let i = 0; i < items.length; i++) {
			let contentItem = items[i].querySelector('.menu-accordeon__item-content');
			_closeItem(items[i], contentItem);
		}
	};

	let addListeners = function () {
		list.addEventListener('click', _toogleItems)
	};

	return {
		init: addListeners
	}
})({
	listSelector: ".menu-accordeon__list",
	linkClass: "menu-accordeon__trigger",
	activeItemClass: "menu-accordeon__item--active"
});

horizontalAccordeon.init();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEhhbWJ1cmdlciBtZW51ICovXG5sZXQgaGFtYnVyZ2VyID0gKGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdGxldCBidXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuYnV0dG9uKTtcblx0bGV0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMubWVudSk7XG5cdGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2JpbGUtbWVudV9fbGlzdFwiKTtcblxuXHRsZXQgX29wZW5NZW51ID0gZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0bWVudS5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xuXHRcdGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZShcImxvY2tcIik7XG5cdH07XG5cblx0bGV0IGNsb3NlTWVudSA9IGZ1bmN0aW9uIGNsb3NlTWVudShlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGlmIChlLnRhcmdldC5jbGFzc05hbWUgPT0gXCJtb2JpbGUtbWVudV9fbGlua1wiKSB7XG5cdFx0XHRtZW51LmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJsb2NrXCIpO1xuXHRcdH1cblx0fTtcblxuXHRsZXQgYWRkTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuXHRcdGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgX29wZW5NZW51KTtcblxuXHRcdGxpc3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNsb3NlTWVudSk7XG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRpbml0OiBhZGRMaXN0ZW5lcnNcblx0fTtcbn0pKHtcblx0YnV0dG9uOiBcIi5oYW1idXJnZXItbWVudS1idG5cIixcblx0bWVudTogXCIubW9iaWxlLW1lbnVcIlxufSk7XG5cbmhhbWJ1cmdlci5pbml0KCk7XG5cbi8qIFZlcnRpY2FsIEFjY29yZGVvbiAqL1xubGV0IHZlcnRpY2FsQWNjb3JkZW9uID0gKGZ1bmN0aW9uIChvcHRpb25zKSB7XG5cdGxldCBsaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLmxpc3RTZWxlY3Rvcik7XG5cdGxldCBpdGVtc0xpc3QgPSBsaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hY2NvcmRlb25fX2l0ZW0nKTtcblxuXHRsZXQgX2dldEhlaWdodCA9IGZ1bmN0aW9uIF9nZXRIZWlnaHQoZWxlbSkge1xuXHRcdGxldCBoZWlnaHQgPSBlbGVtLnNjcm9sbEhlaWdodCArICdweCc7XG5cdFx0cmV0dXJuIGhlaWdodDtcblx0fTtcblxuXHRsZXQgX3Rvb2dsZUl0ZW1zID0gZnVuY3Rpb24gKGUpIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cblx0XHRpZiAoZS50YXJnZXQuY2xhc3NOYW1lID09IG9wdGlvbnMubGlua0NsYXNzKSB7XG5cdFx0XHRsZXQgaXRlbSA9IGUudGFyZ2V0LnBhcmVudE5vZGU7XG5cdFx0XHRsZXQgY29udGVudEl0ZW0gPSBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5hY2NvcmRlb25fX2l0ZW0tY29udGVudCcpO1xuXG5cdFx0XHRpZiAoIWl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbnMuYWN0aXZlSXRlbUNsYXNzKSkge1xuXHRcdFx0XHRfY2xvc2VJdGVtcyhpdGVtc0xpc3QpO1xuXHRcdFx0XHRfb3Blbkl0ZW0oaXRlbSwgY29udGVudEl0ZW0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0X2Nsb3NlSXRlbShpdGVtLCBjb250ZW50SXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdGxldCBfb3Blbkl0ZW0gPSBmdW5jdGlvbiBfb3Blbkl0ZW0oaXRlbSwgY29udGVudEl0ZW0pIHtcblx0XHRsZXQgY29udGVudEhlaWdodCA9IF9nZXRIZWlnaHQoY29udGVudEl0ZW0pO1xuXG5cdFx0aXRlbS5jbGFzc0xpc3QudG9nZ2xlKG9wdGlvbnMuYWN0aXZlSXRlbUNsYXNzKTtcblx0XHRjb250ZW50SXRlbS5zdHlsZS5oZWlnaHQgPSBjb250ZW50SGVpZ2h0O1xuXHR9O1xuXG5cdGxldCBfY2xvc2VJdGVtID0gZnVuY3Rpb24gX2Nsb3NlSXRlbShpdGVtLCBjb250ZW50SXRlbSkge1xuXHRcdGNvbnRlbnRJdGVtLnN0eWxlLmhlaWdodCA9ICcnO1xuXHRcdGl0ZW0uY2xhc3NMaXN0LnJlbW92ZShvcHRpb25zLmFjdGl2ZUl0ZW1DbGFzcyk7XG5cdH07XG5cblx0bGV0IF9jbG9zZUl0ZW1zID0gZnVuY3Rpb24gX2Nsb3NlSXRlbXMoaXRlbXMpIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRsZXQgY29udGVudEl0ZW0gPSBpdGVtc1tpXS5xdWVyeVNlbGVjdG9yKCcuYWNjb3JkZW9uX19pdGVtLWNvbnRlbnQnKTtcblx0XHRcdF9jbG9zZUl0ZW0oaXRlbXNbaV0sIGNvbnRlbnRJdGVtKTtcblx0XHR9XG5cdH07XG5cblx0bGV0IGFkZExpc3RlbmVycyA9IGZ1bmN0aW9uICgpIHtcblx0XHRsaXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3Rvb2dsZUl0ZW1zKVxuXHR9O1xuXG5cdHJldHVybiB7XG5cdFx0aW5pdDogYWRkTGlzdGVuZXJzXG5cdH1cbn0pKHtcblx0bGlzdFNlbGVjdG9yOiBcIi5hY2NvcmRlb25fX2xpc3RcIixcblx0bGlua0NsYXNzOiBcImFjY29yZGVvbl9fdHJpZ2dlclwiLFxuXHRhY3RpdmVJdGVtQ2xhc3M6IFwiYWNjb3JkZW9uX19pdGVtLS1hY3RpdmVcIixcbn0pO1xuXG52ZXJ0aWNhbEFjY29yZGVvbi5pbml0KCk7XG5cbi8qIEhvcml6b250YWwgQWNjb3JkZW9uICovXG5sZXQgaG9yaXpvbnRhbEFjY29yZGVvbiA9IChmdW5jdGlvbiAob3B0aW9ucykge1xuXHRsZXQgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iob3B0aW9ucy5saXN0U2VsZWN0b3IpO1xuXHRsZXQgaXRlbXNMaXN0ID0gbGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcubWVudS1hY2NvcmRlb25fX2l0ZW0nKTtcblxuXHQvKiBjYWxjdWxhdGUgbmVlZGVkIHdpZHRoICovXG5cdGxldCB1c2VyV2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0bGV0IHRpdGxlSXRlbSA9IGxpc3QucXVlcnlTZWxlY3RvcignLicrb3B0aW9ucy5saW5rQ2xhc3MpO1xuXHRsZXQgd2lkdGhUaXRsZSA9IHRpdGxlSXRlbS5jbGllbnRXaWR0aDtcblx0bGV0IG5lZWRlZFdpZHRoID0gdXNlcldpZHRoIC0gaXRlbXNMaXN0Lmxlbmd0aCAqIHdpZHRoVGl0bGU7XG5cdGNvbnNvbGUubG9nKG5lZWRlZFdpZHRoKTtcblx0bmVlZGVkV2lkdGggPSAobmVlZGVkV2lkdGggPiA1MjApID8gNTIwIDogbmVlZGVkV2lkdGg7XG5cblx0bGV0IF90b29nbGVJdGVtcyA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG5cdFx0aWYgKGUudGFyZ2V0LmNsYXNzTmFtZSA9PSBvcHRpb25zLmxpbmtDbGFzcykge1xuXHRcdFx0bGV0IGl0ZW0gPSBlLnRhcmdldC5wYXJlbnROb2RlO1xuXHRcdFx0bGV0IGNvbnRlbnRJdGVtID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcubWVudS1hY2NvcmRlb25fX2l0ZW0tY29udGVudCcpO1xuXG5cdFx0XHRpZiAoIWl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbnMuYWN0aXZlSXRlbUNsYXNzKSkge1xuXHRcdFx0XHRfY2xvc2VJdGVtcyhpdGVtc0xpc3QpO1xuXHRcdFx0XHRfb3Blbkl0ZW0oaXRlbSwgY29udGVudEl0ZW0pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0X2Nsb3NlSXRlbShpdGVtLCBjb250ZW50SXRlbSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdGxldCBfb3Blbkl0ZW0gPSBmdW5jdGlvbiBfb3Blbkl0ZW0oaXRlbSwgY29udGVudEl0ZW0pIHtcblx0XHRpdGVtLmNsYXNzTGlzdC50b2dnbGUob3B0aW9ucy5hY3RpdmVJdGVtQ2xhc3MpO1xuXHRcdGNvbnRlbnRJdGVtLnN0eWxlLndpZHRoID0gbmVlZGVkV2lkdGggKyAncHgnO1xuXHR9O1xuXG5cdGxldCBfY2xvc2VJdGVtID0gZnVuY3Rpb24gX2Nsb3NlSXRlbShpdGVtLCBjb250ZW50SXRlbSkge1xuXHRcdGNvbnRlbnRJdGVtLnN0eWxlLndpZHRoID0gJyc7XG5cdFx0aXRlbS5jbGFzc0xpc3QucmVtb3ZlKG9wdGlvbnMuYWN0aXZlSXRlbUNsYXNzKTtcblx0fTtcblxuXHRsZXQgX2Nsb3NlSXRlbXMgPSBmdW5jdGlvbiBfY2xvc2VJdGVtcyhpdGVtcykge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGxldCBjb250ZW50SXRlbSA9IGl0ZW1zW2ldLnF1ZXJ5U2VsZWN0b3IoJy5tZW51LWFjY29yZGVvbl9faXRlbS1jb250ZW50Jyk7XG5cdFx0XHRfY2xvc2VJdGVtKGl0ZW1zW2ldLCBjb250ZW50SXRlbSk7XG5cdFx0fVxuXHR9O1xuXG5cdGxldCBhZGRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0bGlzdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90b29nbGVJdGVtcylcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdGluaXQ6IGFkZExpc3RlbmVyc1xuXHR9XG59KSh7XG5cdGxpc3RTZWxlY3RvcjogXCIubWVudS1hY2NvcmRlb25fX2xpc3RcIixcblx0bGlua0NsYXNzOiBcIm1lbnUtYWNjb3JkZW9uX190cmlnZ2VyXCIsXG5cdGFjdGl2ZUl0ZW1DbGFzczogXCJtZW51LWFjY29yZGVvbl9faXRlbS0tYWN0aXZlXCJcbn0pO1xuXG5ob3Jpem9udGFsQWNjb3JkZW9uLmluaXQoKTsiXX0=
